<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>耗时一年整理，全网最全的TypeScript踩坑集锦(tsconfig.json 常用配置项注释以及问题） | 前端知识体库</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.3.0">
    <link rel="icon" href="/img/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.b71a9117.css" as="style"><link rel="preload" href="/assets/js/app.d853549c.js" as="script"><link rel="preload" href="/assets/js/2.50fe7aab.js" as="script"><link rel="preload" href="/assets/js/7.6aa5ca39.js" as="script"><link rel="prefetch" href="/assets/js/10.3a9b9855.js"><link rel="prefetch" href="/assets/js/11.71742a1f.js"><link rel="prefetch" href="/assets/js/12.13b2e574.js"><link rel="prefetch" href="/assets/js/13.c86fc201.js"><link rel="prefetch" href="/assets/js/14.0e4b8d61.js"><link rel="prefetch" href="/assets/js/15.1570743b.js"><link rel="prefetch" href="/assets/js/16.3a5845a4.js"><link rel="prefetch" href="/assets/js/3.1e2508cf.js"><link rel="prefetch" href="/assets/js/4.2ff81985.js"><link rel="prefetch" href="/assets/js/5.3d2403ab.js"><link rel="prefetch" href="/assets/js/6.28d96f91.js"><link rel="prefetch" href="/assets/js/8.f0cd3121.js"><link rel="prefetch" href="/assets/js/9.62f7aa7d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b71a9117.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.jpeg" alt="前端知识体库" class="logo"> <span class="site-name can-hide">前端知识体库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  目录
</a></div><div class="nav-item"><a href="https://juejin.im/timeline" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://time.geekbang.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  极客时间
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.vuepress.cn/guide" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vuepress
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/wuzaofeng" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://voice.baidu.com/act/newpneumonia/newpneumonia/?from=osari_pc_3" target="_blank" rel="noopener noreferrer" class="nav-link external">
  疫情实时
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  目录
</a></div><div class="nav-item"><a href="https://juejin.im/timeline" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://time.geekbang.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  极客时间
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://www.vuepress.cn/guide" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Vuepress
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/wuzaofeng" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://voice.baidu.com/act/newpneumonia/newpneumonia/?from=osari_pc_3" target="_blank" rel="noopener noreferrer" class="nav-link external">
  疫情实时
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/guide/" class="sidebar-link">自动化部署静态文档</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>学习笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learning/html/" class="sidebar-link">html</a></li><li><a href="/learning/css/" class="sidebar-link">CSS</a></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading"><span>javascript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learning/javascript/expression.html" class="sidebar-link">什么是表达式语句</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>typescript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/learning/typescript/ts-collection-question.html" class="sidebar-link">【好文】耗时一年整理，全网最全的TypeScript踩坑集锦 (纯 TS 问题)</a></li><li><a href="/learning/typescript/ts-collection-config.html" class="active sidebar-link">【好文】耗时一年整理，全网最全的TypeScript踩坑集锦 (tsconfig.json 常用配置项注释)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learning/typescript/ts-collection-config.html#tsconfig-json-常用配置项" class="sidebar-link">tsconfig.json 常用配置项</a></li><li class="sidebar-sub-header"><a href="/learning/typescript/ts-collection-config.html#tsconfig-json-配置项问题" class="sidebar-link">tsconfig.json 配置项问题</a></li></ul></li><li><a href="/learning/typescript/ts-collection-react.html" class="sidebar-link">【好文】耗时一年整理，全网最全的TypeScript踩坑集锦（React + TS 项目问题）</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>读书笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/readBook/HighPerformanceJS/" class="sidebar-link">高性能javascript</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>工作笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/working/wechat/webview.html" class="sidebar-link">微信小程序内嵌webview问题</a></li><li><a href="/working/verdaccio.html" class="sidebar-link">verdaccio 指南</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="耗时一年整理，全网最全的typescript踩坑集锦-tsconfig-json-常用配置项注释以及问题）"><a href="#耗时一年整理，全网最全的typescript踩坑集锦-tsconfig-json-常用配置项注释以及问题）" class="header-anchor">#</a> 耗时一年整理，全网最全的TypeScript踩坑集锦(tsconfig.json 常用配置项注释以及问题）</h1> <h2 id="tsconfig-json-常用配置项"><a href="#tsconfig-json-常用配置项" class="header-anchor">#</a> <code>tsconfig.json</code> 常用配置项</h2> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;compilerOptions&quot;: {

        /**************基础配置**************/
        /**************基础配置**************/
        /**************基础配置**************/

        /* 开启增量编译：TS 编译器在第一次编译的时候，会生成一个存储编译信息的文件，下一次编译的时候，会根据这个文件进行增量的编译，以此提高 TS 的编译速度 */
        // &quot;incremental&quot;: true,
        /* 指定存储增量编译信息的文件位置 */
        // &quot;tsBuildInfoFile&quot;: &quot;./&quot;,

        /* 打印诊断信息 */
        // &quot;diagnostics&quot;: true,
        /* 打印输出的文件 */
        // &quot;listEmittedFiles&quot;: true,
        /* 打印编译的文件（包括引用的声明文件）*/
        // &quot;listFiles&quot;: true,

        /* 指定 ECMAScript 的目标版本: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', 'ES2018', 'ES2019' or 'ESNEXT'. */
        // &quot;target&quot;: &quot;es5&quot;,
        /* 指定模块代码的生成方式: 'none', 'commonjs', 'amd', 'system', 'umd', 'es2015', or 'ESNext'. */
        // &quot;module&quot;: &quot;commonjs&quot;,

        /* 指定要包含在编译中的库文件——引用类库——即申明文件，如果输出的模块方式是 es5，就会默认引入 &quot;dom&quot;,&quot;es5&quot;,&quot;scripthost&quot;  */
        /* 如果在 TS 中想要使用一些 ES6 以上版本的语法，就需要引入相关的类库 */
        // &quot;lib&quot;: [],

        /* 允许编译 JS 文件 */
        // &quot;allowJs&quot;: true,
        /* 检查 JS 文件*/
        // &quot;checkJs&quot;: true,

        /* 指定 JSX 代码生成的模式: 'preserve', 'react-native', or 'react'. */
        /* 'react' 模式下：TS 会直接把 jsx 编译成 js */
        /* 'preserve' 模式下：TS 不会把 jsx 编译成 js，会保留 jsx */
        // &quot;jsx&quot;: &quot;preserve&quot;,


        /**************声明文件相关配置**************/
        /**************声明文件相关配置**************/
        /**************声明文件相关配置**************/

        /* 生成相应的类型声明文件 —— '.d.ts' */
        // &quot;declaration&quot;: true,
        /* 声明文件的输出路径 */
        // &quot;declarationDir&quot;: &quot;./d&quot;,
        /* 只生成声明文件，不生成 JS */
        // &quot;emitDeclarationOnly&quot;: true,
        /* 声明文件目录，默认 node_modules/@types */
        // &quot;typeRoots&quot;: [],
        /* 要导入的声明文件包，默认导入上面声明文件目录下的所有声明文件 */
        // &quot;types&quot;: [],


        /* 将多个相互依赖的文件合并并且把编译后的内容输出到一个文件里
         * 可以用在产出 AMD 模块的场景中
         * &quot;module&quot;:&quot;amd&quot; 时，当一个模块引入了另外一个模块，编译的时候会把这两个模块的编译结果合并到一个文件中
         */
        // &quot;outFile&quot;: &quot;./&quot;,
        /* 指定编译文件的输出目录 */
        // &quot;outDir&quot;: &quot;./out&quot;,
        /* 指定输入文件的根目录，用于控制输出目录的结构 */
        // &quot;rootDir&quot;: &quot;./&quot;,

        /* 启用项目编译 */
        // &quot;composite&quot;: true,

        /*  输出的时候移除注释 */
        // &quot;removeComments&quot;: true,

        /* 不输出文件 */
        // &quot;noEmit&quot;: true,
        /* 发生错误时不输出文件 */
        // &quot;noEmitOnError&quot;: true,

        /* 不生成 helper 函数，以前的话设置为 true 后，需要额外安装 ts-helpers */
        /* 类似于 babel ，会给每个文件都生成 helper 函数，会使得最终编译后的包的体积变大 */
        // &quot;noEmitHelpers&quot;: true,
        /* 现在可以通过 tslib（TS 内置的库）引入 helper 函数，！！！文件必须是模块 ！！！ */
        /* 编译后自动引入 var tslib_1 = require(&quot;tslib&quot;) */
        // &quot;importHelpers&quot;: true,

        /* 当目标是 ES5 或 ES3 的时候提供对 for-of、扩展运算符和解构赋值中对于迭代器的完整支持 */
        // &quot;downlevelIteration&quot;: true,

        /* 把每一个文件转译成一个单独的模块 */
        // &quot;isolatedModules&quot;: true,


        /**************严格检查配置**************/
        /**************严格检查配置**************/
        /**************严格检查配置**************/

        /* 开启所有的严格检查配置 */
        &quot;strict&quot;: true,
        /* 不允许使用隐式的 any 类型 */
        // &quot;noImplicitAny&quot;: true,

        /* 不允许把 null、undefined 赋值给其他类型变量 */
        // &quot;strictNullChecks&quot;: true,

        /* 不允许函数参数双向协变 */
        // &quot;strictFunctionTypes&quot;: true,

        /* 使用 bind/call/apply 时，严格检查函数参数类型 */
        // &quot;strictBindCallApply&quot;: true,

        /* 类的实例属性必须初始化 */
        // &quot;strictPropertyInitialization&quot;: true,

        /* 不允许 this 有隐式的 any 类型，即 this 必须有明确的指向*/
        // &quot;noImplicitThis&quot;: true,

        /* 在严格模式下解析并且向每个源文件中注入 &quot;use strict&quot; */
        // &quot;alwaysStrict&quot;: true,

        /**************额外的语法检查配置，这种检查交给 eslint 就行，没必要配置**************/
        /**************额外的语法检查配置，这种检查交给 eslint 就行，没必要配置**************/
        /**************额外的语法检查配置，这种检查交给 eslint 就行，没必要配置**************/

        /* 有未使用到的本地变量时报错 */
        // &quot;noUnusedLocals&quot;: true,

        /* 有未使用到的函数参数时报错 */
        // &quot;noUnusedParameters&quot;: true,

        /* 每个分支都要有返回值 */
        // &quot;noImplicitReturns&quot;: true,

        /* 严格校验 switch-case 语法 */
        // &quot;noFallthroughCasesInSwitch&quot;: true,

        /**************模块解析配置**************/
        /**************模块解析配置**************/
        /**************模块解析配置**************/

        /* 指定模块的解析策略: 'node' (Node.js) or 'classic' (TypeScript pre-1.6)*/
        /* 若未指定，那么在使用了 --module AMD | System | ES2015 时的默认值为 Classic，其它情况时则为 Node */
        // &quot;moduleResolution&quot;: &quot;node&quot;,

        /* 在解析非绝对路径模块名的时候的基准路径 */
        // &quot;baseUrl&quot;: &quot;./&quot;,

        /* 基于 'baseUrl' 的路径映射集合 */
        // &quot;paths&quot;: {},

        /* 将多个目录放在一个虚拟目录下，用于运行时 */
        /* 当自己编写的库和开发的代码都输出到一个目录下时，开发代码和库的位置不一样，开发代码引入库的路径就会不对 */
        // &quot;rootDirs&quot;: [],
        // &quot;rootDirs&quot;: [&quot;src&quot;,&quot;out&quot;],

        /* 允许 export = xxx 导出 ，并使用 import xxx form &quot;module-name&quot; 导入*/
        // &quot;esModuleInterop&quot;: true,

        /* 当模块没有默认导出的时候，允许被别的模块默认导入，这个在代码执行的时候没有作用，只是在类型检查的时候生效 */
        // &quot;allowSyntheticDefaultImports&quot;: true,


        /* 不要 symlinks 解析的真正路径 */
        // &quot;preserveSymlinks&quot;: true,

        /* 允许在模块中以全局变量的方式访问 UMD 模块内容 */
        // &quot;allowUmdGlobalAccess&quot;: true,


        /************** Source Map 配置**************/
        /************** Source Map 配置**************/
        /************** Source Map 配置**************/

        /* 指定 ts 文件位置 */
        // &quot;sourceRoot&quot;: &quot;&quot;,

        /* 指定 map 文件存放的位置 */
        // &quot;mapRoot&quot;: &quot;&quot;,

        /* 生成目标文件的 sourceMap */
        // &quot;sourceMap&quot;: true,

        /* 将代码与sourcemaps生成到一个文件中，要求同时设置了--inlineSourceMap 或--sourceMap 属性*/
        // &quot;inlineSources&quot;: true,

        /* 生成目标文件的 inline sourceMap —— 源文件和 sourcemap 文件在同一文件中，而不是把 map 文件放在一个单独的文件里*/
        // &quot;inlineSourceMap&quot;: true,

        /* 生成声明文件的 sourceMap */
        // &quot;declarationMap&quot;: true,

        /************** 实验性的配置**************/
        /************** 实验性的配置**************/
        /************** 实验性的配置**************/

        /* 启用装饰器 */
        // &quot;experimentalDecorators&quot;: true,

        // &quot;emitDecoratorMetadata&quot;: true,         /* Enables experimental support for emitting type metadata for decorators. */


        /**************高级配置**************/
        /**************高级配置**************/
        /**************高级配置**************/

        /* 强制区分大小写 */
        // &quot;forceConsistentCasingInFileNames&quot;: true

}

    /* 指定需要编译的单个文件列表 */
    // &quot;files&quot;: [],

    /* 指定需要编译的文件/目录 */
    // &quot;include&quot;: [
    //    // 只写一个目录名等价于 &quot;./src/**/*&quot;
    //    &quot;src&quot;
    //  ]

    /* 需要排除的文件或目录 */
    // &quot;exclude&quot;: []

    /* 配置文件继承 */
    // &quot;extends&quot;: &quot;./tsconfig.base.json&quot;

}
</code></pre></div><h2 id="tsconfig-json-配置项问题"><a href="#tsconfig-json-配置项问题" class="header-anchor">#</a> <code>tsconfig.json</code> 配置项问题</h2> <h3 id="_1-三种-jsx-模式"><a href="#_1-三种-jsx-模式" class="header-anchor">#</a> 1. 三种 <code>JSX</code> 模式</h3> <ul><li><p>在 TS 中想要使用 <code>JSX</code> 必须做两件事</p> <ol><li>给文件一个 <code>.tsx</code> 扩展名</li> <li>启用 <code>jsx</code> 选项
TS 具有三种 JSX 模式：<code>preserve</code>，<code>react</code> 和 <code>react-native</code>，这些模式只在代码生成阶段起作用，类型检查并不受影响</li></ol> <ul><li><p><strong>preserve 模式下：</strong> 不会将 JSX 编译成 JS，生成代码中会保留 JSX，以供后续的转换操作使用（比如：Babel）。 另外，输出文件会带有 .jsx 扩展名</p></li> <li><p><strong>react 模式下：</strong> 直接将 JSX 编译成 JS，会生成 React.createElement 的形式，在使用前不需要再进行转换操作了，输出文件的扩展名为 .js</p></li> <li><p><strong>react-native 模式下：</strong> 相当于 preserve，它也保留了所有的 JSX，但是输出文件的扩展名是 .js。</p></li></ul> <table><thead><tr><th>模式</th> <th style="text-align:center;">输入</th> <th style="text-align:center;">输出</th> <th style="text-align:center;">输出文件扩展名</th></tr></thead> <tbody><tr><td>preserve</td> <td style="text-align:center;"><code>&lt;div /&gt;</code></td> <td style="text-align:center;"><code>&lt;div /&gt;</code></td> <td style="text-align:center;">.jsx</td></tr> <tr><td>react</td> <td style="text-align:center;"><code>&lt;div /&gt;</code></td> <td style="text-align:center;"><code>React.createElement(&quot;div&quot;)</code></td> <td style="text-align:center;">.js</td></tr> <tr><td>react-native</td> <td style="text-align:center;"><code>&lt;div /&gt;</code></td> <td style="text-align:center;"><code>&lt;div /&gt;</code></td> <td style="text-align:center;">.js</td></tr></tbody></table></li></ul> <h3 id="_2-lib-配置项需要注意的问题"><a href="#_2-lib-配置项需要注意的问题" class="header-anchor">#</a> 2. &quot;lib&quot; 配置项需要注意的问题</h3> <ul><li><p>当你安装 <code>TypeScript</code> 时，会顺带安装 <code>lib.d.ts</code> 等声明文件，<strong>此文件包含了 <code>JavaScript</code> 运行时以及 <code>DOM</code> 中存在各种常见的环境声明</strong></p></li> <li><p>它<strong>自动</strong>包含在 TypeScript 项目的编译上下文中</p></li> <li><p>它能让你<strong>快速开始书写</strong>经过类型检查的 JavaScript 代码</p></li> <li><p>tsconfig.json 中的 lib 选项用来指定当前项目需要注入<strong>哪些声明库</strong>文件。如果没有指定，默认注入的库文件列表为</p> <ul><li><p>当 <code>--target ES5：DOM,ES5,ScriptHost</code></p></li> <li><p>当 <code>--target ES6：DOM,ES6,DOM.Iterable,ScriptHost</code></p></li></ul></li> <li><p>如果在 TS 中想要使用一些 ES6 以上版本或者特殊的语法，就需要引入相关的类库。如：
<code>ES7</code> <code>DOM.Iterable</code></p></li></ul> <h3 id="_3-moduleresolution-解析策略"><a href="#_3-moduleresolution-解析策略" class="header-anchor">#</a> 3. &quot;moduleResolution&quot; 解析策略</h3> <p>https://www.tslang.cn/docs/handbook/module-resolution.html</p> <h3 id="_4-指定-target-为-es6-时，tsc-就会默认使用-classic-模块解析策略，这个策略对于-import-as-abc-from-babel-types-这种非相对路径的导入，不能正确解析"><a href="#_4-指定-target-为-es6-时，tsc-就会默认使用-classic-模块解析策略，这个策略对于-import-as-abc-from-babel-types-这种非相对路径的导入，不能正确解析" class="header-anchor">#</a> 4. 指定 target 为 es6 时，tsc 就会默认使用 &quot;classic&quot; 模块解析策略，这个策略对于 <code>import * as abc from &quot;@babel/types&quot;</code> 这种非相对路径的导入，不能正确解析</h3> <p>解决方法：指定解析策略为 node =&gt; &quot;moduleResolution&quot;: &quot;node&quot;</p> <h3 id="_5-esmoduleinterop-具体作用是什么"><a href="#_5-esmoduleinterop-具体作用是什么" class="header-anchor">#</a> 5. &quot;esModuleInterop&quot; 具体作用是什么</h3> <ul><li><p>如果一个模块遵循 ES6 模块规范，当默认导出内容时（export default xxx），ES6 模块系统会自动给当前模块的顶层对象加上一个 default 属性，指向导出的内容。当一个 ES6 模块引入该模块时（import moduleName from 'xxx'），ES6 模块系统默认会自动去该模块中的顶层对象上查找 default 属性并将值赋值给 moduleName。而如果一个非 ES6 规范的模块引入 ES6 模块直接使用时（var moduleName = require('xxx')），就会报错，需要通过  moduleName.default 来使用</p></li> <li><p>TypeScript 为了兼容，<strong>引入了 esModuleInterop 选项，设置 esModuleInterop 为 true ，在编译时自动给该模块添加 default 属性，就可以通过 import moduleName from 'xxx' 的形式导入 非 ES6 模块，不再需要使用 import moduleName = require('xxx') 的形式</strong></p></li></ul> <h3 id="_6-allowsyntheticdefaultimports-具体作用是什么"><a href="#_6-allowsyntheticdefaultimports-具体作用是什么" class="header-anchor">#</a> 6. &quot;allowSyntheticDefaultImports&quot; 具体作用是什么</h3> <p><strong>允许 默认导入 没有设置默认导出（export default xxx）的模块，可以以 import xxx from 'xxx' 的形式来引入模块</strong></p> <div class="language- extra-class"><pre class="language-text"><code>// 配置前
import * as React from 'react';
import * as ReactDOM from 'react-dom';

// 配置后
import React from 'react';
import ReactDOM from 'react-dom';
</code></pre></div><h3 id="_7-paths-配置路径映射集合时，需要注意的问题"><a href="#_7-paths-配置路径映射集合时，需要注意的问题" class="header-anchor">#</a> 7. &quot;paths&quot; 配置路径映射集合时，需要注意的问题</h3> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;paths&quot;: {
      // 这里的路径后面必须跟着 &quot;/*&quot;
      &quot;@public/*&quot;: [
        // 这里的路径后面必须跟着 &quot;/*&quot;
        &quot;public/*&quot;
      ],
      &quot;@src/*&quot;: [
        &quot;src/*&quot;
      ],
      &quot;@assets/*&quot;:[
        &quot;src/assets/*&quot;
      ],
      &quot;@components/*&quot;: [
        &quot;src/components/*&quot;
      ]
    }
}
</code></pre></div><h3 id="_8-allowjs-时需要注意的问题"><a href="#_8-allowjs-时需要注意的问题" class="header-anchor">#</a> 8. &quot;allowJs&quot; 时需要注意的问题</h3> <p><strong>设置 &quot;allowJs&quot;: false ：在 .ts / .tsx 文件中引入 .js / .jsx 文件时，就不会有相关提示</strong> <img src="/assets/img/q1.8e42c3dd.jpg" alt="q1"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/learning/typescript/ts-collection-question.html" class="prev">
        【好文】耗时一年整理，全网最全的TypeScript踩坑集锦 (纯 TS 问题)
      </a></span> <span class="next"><a href="/learning/typescript/ts-collection-react.html">
        【好文】耗时一年整理，全网最全的TypeScript踩坑集锦（React + TS 项目问题）
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.d853549c.js" defer></script><script src="/assets/js/2.50fe7aab.js" defer></script><script src="/assets/js/7.6aa5ca39.js" defer></script>
  </body>
</html>
